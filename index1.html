
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>××¡×¢ ×¤×•×¨×¦×•×ª ×“×¨×š | 9 ×ª×—× ×•×ª</title>

<!-- ×¡×¤×¨×™×•×ª PDF -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
:root {
  --primary: #9b59b6;
  --secondary: #e74c3c;
  --accent: #3498db;
  --success: #2ecc71;
  --warm: #f39c12;
  --pink: #fd79a8;
  --purple-light: #a29bfe;
  --teal: #00b894;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 20px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  color: #2c3e50;
}

.container {
  max-width: 950px;
  margin: auto;
}

/* === ×œ×•×’×• â€“ ×—×œ×§ ××œ× ×•×‘×¨×•×¨ === */
.logo-wrap {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 24px;
}

.site-logo {
  width: 120px;   /* â† ×–×” ×”××¡×¤×¨ ×”×™×—×™×“ ×©××©× ×” ×’×•×“×œ */
  max-width: 100%;
  height: auto;
}

/* ×›×•×ª×¨×ª ×¨××©×™×ª */
.main-header {
  text-align: center;
  color: white;
  margin-bottom: 30px;
  animation: fadeInDown 0.8s ease;
}

  .main-header h1 {
  font-size: 2.5em;
  margin: 0;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.main-header .emoji {
  font-size: 1.2em;
  display: inline-block;
  animation: bounce 2s infinite;
}

.main-header p {
  font-size: 1.05em;
  margin-top: 10px;
  opacity: 0.95;
  line-height: 1.5;
}

/* ×¤×¡ ×”×ª×§×“××•×ª */
.progress-container {
  background: white;
  border-radius: 30px;
  padding: 20px;
  margin-bottom: 25px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.progress-bar {
  height: 12px;
  background: #ecf0f1;
  border-radius: 10px;
  overflow: hidden;
  position: relative;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--success), var(--accent));
  border-radius: 10px;
  transition: width 0.5s ease;
  box-shadow: 0 2px 8px rgba(46, 204, 113, 0.4);
}

.progress-text {
  text-align: center;
  margin-top: 10px;
  font-weight: 600;
  color: #555;
  font-size: 0.95em;
}

/* ×›×¨×˜×™×¡ ×ª×—× ×” */
.step {
  display: none;
  background: white;
  border-radius: 25px;
  padding: 45px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.2);
  animation: fadeInUp 0.6s ease;
  position: relative;
  overflow: hidden;
}

.step::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: linear-gradient(90deg, var(--primary), var(--pink), var(--accent));
}

.step.active {
  display: block;
}

/* ×›×•×ª×¨×•×ª */
.step h2 {
  color: var(--primary);
  font-size: 1.9em;
  margin: 0 0 10px 0;
  display: flex;
  align-items: center;
  gap: 12px;
}

.step h2 .icon {
  font-size: 1.1em;
}

.step-intro {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  padding: 15px 20px;
  border-radius: 12px;
  margin: 15px 0 25px 0;
  font-size: 1.05em;
  line-height: 1.5;
  box-shadow: 0 4px 15px rgba(240, 147, 251, 0.3);
}

.step > p {
  color: #555;
  font-size: 1.05em;
  line-height: 1.6;
  margin-bottom: 20px;
}

/* ×©×œ×‘×™× ×¤× ×™××™×™× (×©×œ×‘ ×, ×‘, ×’) */
.sub-stage {
  margin: 25px 0;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 12px;
  border-right: 4px solid var(--accent);
}

.sub-stage h3 {
  color: var(--accent);
  font-size: 1.3em;
  margin: 0 0 15px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.sub-stage-label {
  background: var(--accent);
  color: white;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.85em;
  font-weight: 600;
}

/* ×©×“×•×ª ×§×œ×˜ */
textarea, input[type="text"], input[type="file"] {
  width: 100%;
  padding: 14px;
  font-size: 15px;
  border-radius: 10px;
  border: 2px solid #e0e0e0;
  margin-top: 10px;
  font-family: inherit;
  transition: all 0.3s ease;
  resize: vertical;
}

textarea {
  min-height: 100px;
}

textarea.large {
  min-height: 140px;
}

textarea:focus, input[type="text"]:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
}

/* ×ª×™×‘×•×ª ×¡×™××•×Ÿ */
.checkbox-group {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 12px;
  margin: 15px 0;
}

.checkbox-group.two-col {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

.checkbox-group label {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  background: white;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid #e0e0e0;
}

.checkbox-group label:hover {
  background: #e8f4f8;
  border-color: var(--accent);
  transform: translateX(-3px);
}

.checkbox-group input[type="checkbox"],
.checkbox-group input[type="radio"] {
  margin-left: 10px;
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: var(--primary);
}

/* ×©×“×•×ª ××¨×•×‘×™× */
.field-group {
  margin: 20px 0;
}

.field-group label {
  display: block;
  font-weight: 600;
  color: #444;
  margin-bottom: 8px;
  font-size: 1.05em;
}

.field-group input,
.field-group textarea {
  margin-top: 0;
}

/* ×›×¤×ª×•×¨×™× */
.nav {
  display: flex;
  gap: 15px;
  margin-top: 35px;
  flex-wrap: wrap;
  justify-content: center;
}

button {
  padding: 16px 32px;
  border-radius: 50px;
  border: none;
  background: white;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  position: relative;
  overflow: hidden;
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

button:hover::before {
  width: 300px;
  height: 300px;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

button:active {
  transform: translateY(0);
}

button.primary {
  background: linear-gradient(135deg, var(--primary), var(--pink));
  color: white;
  font-size: 17px;
}

button.secondary {
  background: linear-gradient(135deg, var(--accent), var(--purple-light));
  color: white;
}

button.success {
  background: linear-gradient(135deg, var(--success), var(--teal));
  color: white;
}

/* ×ª×™×‘×ª ×¤×œ×˜ */
.output {
  margin-top: 20px;
  padding: 20px;
  background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  border: 2px dashed var(--accent);
  border-radius: 12px;
  white-space: pre-wrap;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.8;
  max-height: 400px;
  overflow-y: auto;
}

.output:empty::before {
  content: '×”×ª×•×›×Ÿ ×™×•×¤×™×¢ ×›××Ÿ...';
  color: #999;
  font-style: italic;
}

/* ×”×•×“×¢×•×ª ×¢×™×“×•×“ */
.encouragement {
  background: linear-gradient(135deg, #fdeb71, #f8d800);
  padding: 15px 20px;
  border-radius: 12px;
  margin: 20px 0;
  text-align: center;
  font-weight: 600;
  color: #333;
  box-shadow: 0 4px 15px rgba(248, 216, 0, 0.3);
}

/* ×˜×™×¤ ××¡×™×™×¢ */
.helper-tip {
  background: #e8f5e9;
  border-right: 4px solid var(--success);
  padding: 12px 16px;
  border-radius: 8px;
  margin: 15px 0;
  font-size: 0.95em;
  color: #2e7d32;
  line-height: 1.5;
}

.helper-tip::before {
  content: 'ğŸ’¡ ';
  font-size: 1.2em;
}

.warning-tip {
  background: #fff3cd;
  border-right: 4px solid var(--warm);
  padding: 12px 16px;
  border-radius: 8px;
  margin: 15px 0;
  font-size: 0.95em;
  color: #856404;
  line-height: 1.5;
}

.warning-tip::before {
  content: 'âš ï¸ ';
  font-size: 1.2em;
}

/* ×¢×™×¦×•×‘ ××™×•×—×“ ×œ×ª×—× ×” ××—×¨×•× ×” */
.step-final {
  text-align: center;
}

.step-final h2 {
  font-size: 2.5em;
  justify-content: center;
  color: var(--success);
}

.step-final .celebration {
  font-size: 5em;
  margin: 20px 0;
  animation: celebration 1s ease infinite;
}

/* ×”×¢×œ××ª ×ª××•× ×” */
.upload-box {
  border: 2px dashed #aaa;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  background: #f8f9fa;
  margin-top: 10px;
}

.upload-box input {
  margin-top: 10px;
  border: none;
  padding: 10px;
}

/* ×¤×•×¡×˜×¨ ××•×¡×ª×¨ */
#poster {
  width: 1000px;
  height: 700px;
  padding: 40px;
  box-sizing: border-box;
  display: none;
  position: fixed;
  top: -9999px;
  left: -9999px;
}

.template-light {
  background: #ffffff;
  color: #222;
}

.template-color {
  background: linear-gradient(135deg,#fbc2eb,#a6c1ee);
  color: #222;
}

.template-dark {
  background: #1e1e2f;
  color: #ffffff;
}

.poster-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 30px;
  height: 100%;
}

#poster h2 {
  margin-top: 0;
  font-size: 2em;
}

.poster-section {
  margin-bottom: 16px;
  line-height: 1.6;
}

#poster img {
  width: 100%;
  max-height: 600px;
  object-fit: cover;
  border-radius: 12px;
}

/* ×× ×™××¦×™×•×ª */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes celebration {
  0%, 100% { transform: rotate(-5deg) scale(1); }
  50% { transform: rotate(5deg) scale(1.1); }
}

/* ×¨×¡×¤×•× ×¡×™×‘×™×•×ª */
@media (max-width: 768px) {
  body {
    padding: 15px;
  }
  
  .step {
    padding: 30px 20px;
  }
  
  .main-header h1 {
    font-size: 2em;
  }
  
  .checkbox-group,
  .checkbox-group.two-col {
    grid-template-columns: 1fr;
  }
  
  .nav {
    flex-direction: column;
  }
  
  button {
    width: 100%;
  }
}

/* ×›×¤×ª×•×¨ ×”×¢×ª×§×” */
.copy-btn {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 12px 24px;
  margin-top: 15px;
}

.copy-btn:hover {
  background: linear-gradient(135deg, #764ba2, #667eea);
}
</style>
</head>

<body>
<div class="container">

  <!-- ×œ×•×’×• -->
  <div class="logo-wrap">
    <img src="PORTZOT-DERECH.LOGO.png" alt="×¤×•×¨×¦×•×ª ×“×¨×š" class="site-logo">
  </div>

  <!-- ×›×•×ª×¨×ª ×¨××©×™×ª -->
  <div class="main-header">
    <h1><span class="emoji">ğŸš€</span> ××¡×¢ ×¤×•×¨×¦×•×ª ×“×¨×š <span class="emoji">ğŸ’œ</span></h1>
    <p>
      ×ª×”×œ×™×š ×—×©×™×‘×” ××œ× ×‘×©×œ×•×©×” ×©×œ×‘×™×: ×§×œ â†’ ×¢××•×§ â†’ ×”×—×œ×˜×™<br>
      ×©××•×‘×™×œ ×—×©×™×‘×” ×‘×¦×•×¨×” ×§×œ×”, ×¢××•×§×” ×•××– ×”×—×œ×˜×™×ª
    </p>
  </div>

  <!-- ×¤×¡ ×”×ª×§×“××•×ª -->
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <div class="progress-text" id="progressText">×ª×—× ×” 1 ××ª×•×š 9</div>
  </div>

<!-- ×ª×—× ×” 1: ×‘×—×™×¨×ª ×›×™×•×•×Ÿ -->
<div class="step active" id="step1">
  <h2><span class="icon">ğŸ¯</span> ×ª×—× ×” 1: ×‘×—×™×¨×ª ×›×™×•×•×Ÿ</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: ×‘×•×—×¨×™× ×›×™×•×•×Ÿ ×©××¡×§×¨×Ÿ ××•×ª×š. ×œ× ×‘×•×—×¨×™× ××§×¦×•×¢, ×¢×›×©×™×•.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ××” ××•×©×š ××•×ª×™</h3>
    <p>×¡×× ×™ ×¢×“ 3 ×ª×—×•××™× ×©××¢× ×™×™× ×™× ××•×ª×š:</p>
    <div class="checkbox-group" id="directionsBox"></div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ××™×§×•×“ ×§×¦×¨</h3>
    <p>×œ×›×œ ×ª×—×•× ×©×¡×™×× ×ª â€“ ××™×œ×” ××—×ª ×œ××”:</p>
    <div id="focusFields"></div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ×”×—×œ×˜×”</h3>
    <div class="checkbox-group two-col">
      <label><input type="radio" name="decision1" value="one"> ×× ×™ ×‘×•×—×¨×ª ×œ×”××©×™×š ×¢× ×ª×—×•× ××—×“ ××¨×›×–×™</label>
      <label><input type="radio" name="decision1" value="two"> ×× ×™ ××©××™×¨×” ×©× ×™ ×›×™×•×•× ×™× ×¤×ª×•×—×™×</label>
    </div>
  </div>

  <div class="helper-tip">
    ×‘×—×¨×™ ××ª ×”×ª×—×•××™× ×©×‘×××ª ××“×‘×¨×™× ××œ×™×™×š â€“ ×–×” ×”××¡×¢ ×©×œ×š!
  </div>

  <div class="nav">
    <button class="primary" onclick="nextStep()">×”××©×š ×œ××¡×¢ âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 2: ×–×™×”×•×™ ×‘×¢×™×” -->
<div class="step" id="step2">
  <h2><span class="icon">ğŸ”</span> ×ª×—× ×” 2: ×–×™×”×•×™ ×‘×¢×™×”</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: ×¨×¢×™×•×Ÿ ×˜×•×‘ ××ª×—×™×œ ××‘×¢×™×” ×××™×ª×™×ª â€“ ×œ× ××¤×ª×¨×•×Ÿ.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ×–×™×”×•×™ ×¨××©×•× ×™</h3>
    <p>××” × ×›×•×Ÿ ×œ×’×‘×™ ×”×‘×¢×™×”? (×¡×× ×™ ××ª ×”×¨×œ×•×•× ×˜×™):</p>
    <div class="checkbox-group">
      <label><input type="checkbox"> ×–×” ×§×•×¨×” ×œ×™ ××™×©×™×ª</label>
      <label><input type="checkbox"> ×–×” ×§×•×¨×” ×œ×—×‘×¨×•×ª ×©×œ×™</label>
      <label><input type="checkbox"> ×–×” ×§×•×¨×” ×œ×”×¨×‘×” ×× ×©×™×</label>
      <label><input type="checkbox"> ×–×” ×—×•×–×¨ ×©×•×‘ ×•×©×•×‘</label>
      <label><input type="checkbox"> ×–×” ×’×•×¨× ×ª×¡×›×•×œ / ×¤×’×™×¢×”</label>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ×ª×™××•×¨ ×× ×•××§</h3>
    
    <div class="field-group">
      <label>1. ××™×¤×” ×–×” ×§×•×¨×”?</label>
      <input type="text" id="where" placeholder="×œ×“×•×’××”: ×‘×“×¨×š ×œ×‘×™×ª ×”×¡×¤×¨, ×‘××¤×œ×™×§×¦×™×” ×©×œ...">
    </div>

    <div class="field-group">
      <label>2. ×œ××™ ×–×” ×§×•×¨×”?</label>
      <input type="text" id="who" placeholder="×œ×“×•×’××”: ×œ×ª×œ××™×“×•×ª ×©× ×•×¡×¢×•×ª ×‘×ª×—×‘×•×¨×” ×¦×™×‘×•×¨×™×ª">
    </div>

    <div class="field-group">
      <label>3. ××” ×”×¨×’×¢ ×”×›×™ ××ª×¡×›×œ?</label>
      <textarea id="moment" placeholder="×ª××¨×™ ××ª ×”×¨×’×¢ ×”××“×•×™×§ ×©×‘×• ×”×‘×¢×™×” ×”×›×™ ××•×¨×’×©×ª"></textarea>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ×‘×“×™×§×ª ×¢×•××§</h3>
    <div class="checkbox-group">
      <label><input type="checkbox"> ×–×• ×‘×¢×™×” ×™×•××™×•××™×ª</label>
      <label><input type="checkbox"> ×™×© ×¤×ª×¨×•× ×•×ª ×—×œ×§×™×™×</label>
      <label><input type="checkbox"> ××™×Ÿ ×¤×ª×¨×•×Ÿ ×˜×•×‘ ×”×™×•×</label>
    </div>
  </div>

  <div class="helper-tip">
    ×”×‘×¢×™×•×ª ×”×›×™ ×˜×•×‘×•×ª ×”×Ÿ ××œ×” ×©××ª ×—×•×•×” ××•×ª×Ÿ ×‘××•×¤×Ÿ ××™×©×™!
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
    <button class="primary" onclick="nextStep()">×”××©×š âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 3: × ×™×¡×•×— ×”×‘×¢×™×” -->
<div class="step" id="step3">
  <h2><span class="icon">âœï¸</span> ×ª×—× ×” 3: × ×™×¡×•×— ×”×‘×¢×™×”</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: ×‘×”×™×™×˜×§ â€“ ×‘×¢×™×” ×©×œ× ×× ×•×¡×—×ª ×˜×•×‘, ×œ× × ×¤×ª×¨×ª ×˜×•×‘.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ×¨×›×™×‘×™ ×”×‘×¢×™×”</h3>
    <div class="checkbox-group">
      <label><input type="checkbox"> ×™×© ×§×”×œ ×™×¢×“ ×‘×¨×•×¨</label>
      <label><input type="checkbox"> ×™×© ×§×•×©×™ ××¨×›×–×™ ××—×“</label>
      <label><input type="checkbox"> ×™×© ×”×©×¤×¢×” ×‘×¨×•×¨×”</label>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ××™×œ×•×™ ×¨×›×™×‘×™× (×§×¦×¨)</h3>
    
    <div class="field-group">
      <label>×ª×—×•×:</label>
      <input type="text" id="domain" placeholder="×œ×“×•×’××”: ×ª×—×‘×•×¨×”, ×‘×¨×™××•×ª...">
    </div>

    <div class="field-group">
      <label>×§×”×œ ×™×¢×“:</label>
      <input type="text" id="target" placeholder="×œ×“×•×’××”: ×‘× ×•×ª 15-18 ×©× ×•×¡×¢×•×ª ×œ×‘×™×ª ×¡×¤×¨">
    </div>

    <div class="field-group">
      <label>×”×§×•×©×™ ×”××¨×›×–×™:</label>
      <input type="text" id="difficulty" placeholder="×œ×“×•×’××”: ×œ× ×™×•×“×¢×•×ª ××ª×™ ×”××•×˜×•×‘×•×¡ ×™×’×™×¢">
    </div>

    <div class="field-group">
      <label>×œ××” ×–×” ×’×•×¨×:</label>
      <input type="text" id="cause" placeholder="×œ×“×•×’××”: ××™×—×•×¨×™×, ×œ×—×¥, ×¤×—×“ ××”××•×¨×™×">
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> × ×™×¡×•×— ×¡×•×¤×™ (××©×¤×˜ ××—×“)</h3>
    <p>×”×©×œ×™××™ ××ª ×”××©×¤×˜:</p>
    <textarea id="problemStatement" class="large" placeholder='×”×‘×¢×™×” ×”×™× ×©_____, ×¢×‘×•×¨ _____, ×‘×ª×—×•× _____, ×•×–×” ×’×•×¨× ×œ_____.'></textarea>
  </div>

  <div class="encouragement">
    ğŸŒŸ × ×™×¡×•×— ×‘×¨×•×¨ ×©×œ ×”×‘×¢×™×” = ×—×¦×™ ×”×“×¨×š ×œ×¤×ª×¨×•×Ÿ!
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
    <button class="primary" onclick="nextStep()">×”××©×š âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 4: ×—×§×¨ ×•×”×‘× ×” -->
<div class="step" id="step4">
  <h2><span class="icon">ğŸ“š</span> ×ª×—× ×” 4: ×—×§×¨ ×•×”×‘× ×”</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: ×œ× ×××¦×™××™× ×‘××•×•×™×¨. ×œ×•××“×™× ××” ×›×‘×¨ ×§×™×™×.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ×¤×ª×¨×•× ×•×ª ×§×™×™××™×</h3>
    <div class="checkbox-group">
      <label><input type="checkbox"> ×§×™×™××™× ×¤×ª×¨×•× ×•×ª ×“×•××™×</label>
      <label><input type="checkbox"> ×”× ×¢×•×‘×“×™× ×—×œ×§×™×ª</label>
      <label><input type="checkbox"> ×”× ×œ× ×¢×•× ×™× ×œ×’××¨×™ ×¢×œ ×”×¦×•×¨×š</label>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ×ª×™××•×¨ ×§×¦×¨ â€“ ×—×™×¤×•×© ×‘××§×•×¨×•×ª ××™×“×¢</h3>
    
    <p>××” ×‘×“×§×ª×™? (×¡×× ×™ ×œ×¤×—×•×ª ×©× ×™×™×):</p>
    <div class="checkbox-group">
      <label><input type="checkbox"> ×—×™×¤×•×© ×‘×’×•×’×œ/×‘×™× ×’ (××™×“×¢ ×¢×œ ×¤×ª×¨×•× ×•×ª ×§×™×™××™×)</label>
      <label><input type="checkbox"> ×¡×¨×˜×•×Ÿ ×”×¡×‘×¨ ×‘×™×•×˜×™×•×‘ (×”×¡×§×” / ×”×¡×‘×¨×”)</label>
      <label><input type="checkbox"> ×›×ª×‘×” ×—×“×©×•×ª×™×ª / ××ª×¨ ×™×“×¢</label>
      <label><input type="checkbox"> ×©××œ×ª ××“× ×©××›×™×¨ ××ª ×”×ª×—×•×</label>
    </div>

    <p style="margin-top: 20px;">×ª××¨×™ <strong>×©× ×™ ××§×•×¨×•×ª ×©×•× ×™×</strong> (××œ ×ª×¡×ª××š ×¨×§ ×¢×œ ××§×•×¨ ××—×“):</p>
    
    <div class="field-group">
      <label>×¤×ª×¨×•×Ÿ 1 â€“ ××” ××¦××ª×™? ××” ×¢×•×‘×“ ×‘×•? ××” ×œ× ×¢×•× ×” ×¢×œ ×”×¦×•×¨×š?</label>
      <input type="text" id="source1" placeholder="××§×•×¨ ××™×“×¢:">
      <textarea id="solution1" placeholder="×ª×™××•×¨ ×”×¤×ª×¨×•×Ÿ ×•×××¦××™×"></textarea>
    </div>

    <div class="field-group">
      <label>×¤×ª×¨×•×Ÿ 2 â€“ ××” ××¦××ª×™? ××” ×¢×•×‘×“ ×‘×•? ××” ×—×¡×¨ ××• ×‘×¢×™×™×ª×™?</label>
      <input type="text" id="source2" placeholder="××§×•×¨ ××™×“×¢:">
      <textarea id="solution2" placeholder="×ª×™××•×¨ ×”×¤×ª×¨×•×Ÿ ×•×××¦××™×"></textarea>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ×¢×•×‘×“×” / × ×ª×•×Ÿ</h3>
    <div class="field-group">
      <label>× ×ª×•×Ÿ ××—×“ ×©×œ××“×ª×™:</label>
      <input type="text" id="fact" placeholder="×œ×“×•×’××”: 70% ××”× ×•×¡×¢×™× ×œ× ×™×•×“×¢×™× ××ª×™ ×”××•×˜×•×‘×•×¡ ×™×’×™×¢">
    </div>
  </div>

  <div class="sub-stage">
    <h3>×ª×•×‘× ×•×ª (3 ×¡×¢×™×¤×™× ×§×¦×¨×™×)</h3>
    <div class="field-group">
      <label>×ª×•×‘× ×” 1:</label>
      <textarea id="insight1" placeholder="××” ×œ××“×ª×™?"></textarea>
    </div>
    <div class="field-group">
      <label>×ª×•×‘× ×” 2:</label>
      <textarea id="insight2" placeholder="××” ×”×¤×ª×™×¢ ××•×ª×™?"></textarea>
    </div>
    <div class="field-group">
      <label>×ª×•×‘× ×” 3:</label>
      <textarea id="insight3" placeholder="××” ×—×¡×¨ ×‘×¤×ª×¨×•× ×•×ª ×”×§×™×™××™×?"></textarea>
    </div>
  </div>

  <div class="helper-tip">
    ×›×œ ××” ×©×œ××“×ª ××§×¨×‘ ××•×ª×š ×œ×¤×ª×¨×•×Ÿ ×˜×•×‘ ×™×•×ª×¨!
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
    <button class="primary" onclick="nextStep()">×”××©×š âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 5: ×¨×¢×™×•×Ÿ ×œ×¤×ª×¨×•×Ÿ (WHAT) -->
<div class="step" id="step5">
  <h2><span class="icon">ğŸ’¡</span> ×ª×—× ×” 5: ×¨×¢×™×•×Ÿ ×œ×¤×ª×¨×•×Ÿ (WHAT)</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: ×¨×¢×™×•×Ÿ ×¤×ª×¨×•×Ÿ ×¢×§×¨×•× ×™. ×œ× ××ª×›× × ×™× ××•×¦×¨, ×× ×¡×—×™×.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ×¡×•×’ ×”×¤×ª×¨×•×Ÿ</h3>
    <div class="checkbox-group two-col">
      <label><input type="checkbox" value="digital"> ×“×™×’×™×˜×œ×™ (××¤×œ×™×§×¦×™×” / ××ª×¨)</label>
      <label><input type="checkbox" value="physical"> ×¤×™×–×™ (××•×¦×¨ / ××›×©×™×¨)</label>
      <label><input type="checkbox" value="service"> ×©×™×¨×•×ª / ×ª×”×œ×™×š</label>
      <label><input type="checkbox" value="combined"> ×©×™×œ×•×‘ ×‘×™×Ÿ ×›××” ×¡×•×’×™×</label>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ×‘×¢×™×”-×¤×ª×¨×•×Ÿ ×‘××©×¤×˜ ××—×“</h3>
    <div class="field-group">
      <textarea id="solutionOneLine" class="large" placeholder='×”×¨×¢×™×•×Ÿ ×”×•× _____, ×›×“×™ ×œ×¢×–×•×¨ ×œ_____ ×œ×”×ª××•×“×“ ×¢× _____.'></textarea>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ××” ×—×“×© ×›××Ÿ?</h3>
    <p>×‘×—×¨×™ ×œ×¤×—×•×ª ××—×ª:</p>
    <div class="checkbox-group two-col">
      <label><input type="checkbox"> ×¢×•×©×” ××©×”×• ×©×œ× ×”×™×” ××¤×©×¨×™ ×§×•×“×</label>
      <label><input type="checkbox"> ×¢×•×©×” ××ª ××•×ª×• ×“×‘×¨ â€“ ××‘×œ ×”×¨×‘×” ×™×•×ª×¨ ×¤×©×•×˜</label>
      <label><input type="checkbox"> ××ª××™× ×œ×§×”×œ ×©×œ× ×§×™×‘×œ ××¢× ×”</label>
      <label><input type="checkbox"> ××©×ª××© ×‘×˜×›× ×•×œ×•×’×™×” ×‘×¦×•×¨×” ××—×¨×ª</label>
    </div>
  </div>

  <div class="encouragement">
    ğŸ’ª ×¨×¢×™×•× ×•×ª ×˜×•×‘×™× ××ª×—×™×œ×™× ×¤×©×•×˜×™× ×•××ª×¤×ª×—×™× ×‘×”××©×š!
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
    <button class="primary" onclick="nextStep()">×”××©×š âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 6: ×ª×›× ×•×Ÿ ××•×¦×¨ (HOW) -->
<div class="step" id="step6">
  <h2><span class="icon">âš™ï¸</span> ×ª×—× ×” 6: ×ª×›× ×•×Ÿ ××•×¦×¨ (HOW)</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: ×¢×›×©×™×• ×œ× ×©×•××œ×™× ××” ×”×¨×¢×™×•×Ÿ ××œ× ××™×š ×”×•× ×¢×•×‘×“ ×‘×¤×•×¢×œ.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> × ×§×•×“×ª ×”×ª×—×œ×” ×©×œ ×”××©×ª××©</h3>
    <div class="checkbox-group two-col">
      <label><input type="checkbox"> ×”××©×ª××© ××’×™×¢ ×¢× ×‘×¢×™×” ×‘×¨×•×¨×”</label>
      <label><input type="checkbox"> ×”××©×ª××© ×œ× ×‘×˜×•×— ××” ×œ×¢×©×•×ª</label>
      <label><input type="checkbox"> ×”××©×ª××© ×‘×œ×—×¥ / ×‘×–××Ÿ ×§×¦×¨</label>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ×ª×¨×—×™×© ×©×™××•×© ×‘×¨×•×¨ ××—×“</h3>
    
    <div class="field-group">
      <label>×ª××¨×™ ×¡×™×˜×•××¦×™×” ××—×ª ×××™×ª×™×ª:</label>
      <textarea id="scenario" placeholder="××™×¤×” × ××¦× ×”××©×ª××©? ××” ×”×•× ×× ×¡×” ×œ×¢×©×•×ª?"></textarea>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ×¨×¦×£ ×¤×¢×•×œ×•×ª (×œ× ××¡×›×™×, ×œ× ×¤×™×¦'×¨×™×)</h3>
    
    <div class="field-group">
      <label>1. ××©×ª××© ×¢×•×©×”:</label>
      <textarea id="action1" placeholder="×œ×“×•×’××”: ×¤×•×ª×— ××ª ×”××¤×œ×™×§×¦×™×”"></textarea>
    </div>

    <div class="field-group">
      <label>2. ×”××¢×¨×›×ª ××’×™×‘×” ×‘:</label>
      <textarea id="action2" placeholder="×œ×“×•×’××”: ××¦×™×’×” ××¤×” ×¢× ××™×§×•× ×”××•×˜×•×‘×•×¡×™×"></textarea>
    </div>

    <div class="field-group">
      <label>3. ××©×ª××© ××§×‘×œ:</label>
      <textarea id="action3" placeholder="×œ×“×•×’××”: ×”×•×“×¢×” ××ª×™ ×”××•×˜×•×‘×•×¡ ×™×’×™×¢"></textarea>
    </div>

    <div class="field-group">
      <label>4. ×”×‘×¢×™×” × ×¤×ª×¨×ª ×‘×›×š ×©:</label>
      <textarea id="action4" placeholder="×œ×“×•×’××”: ×”××©×ª××© ×™×•×“×¢ ×‘×“×™×•×§ ××ª×™ ×œ×¦××ª ××”×‘×™×ª"></textarea>
    </div>
  </div>

  <div class="helper-tip">
    ×—×©×‘×™ ×¢×œ ×”×—×•×•×™×” ×©×œ ×”××©×ª××© â€“ ××” ×”× ×¨×•××™×, ×œ×•×—×¦×™×, ×•××§×‘×œ×™×?
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
    <button class="primary" onclick="nextStep()">×”××©×š âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 7: ×¡×™×¤×•×¨ ×”××™×–× (WHY) -->
<div class="step" id="step7">
  <h2><span class="icon">ğŸ“–</span> ×ª×—× ×” 7: ×¡×™×¤×•×¨ ×”××™×–× (WHY)</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: ×œ××” ×–×” ××©× ×”. ×œ× ××¡×‘×™×¨×™× ××” ×¢×©×™× ×• â€“ ××¡×‘×™×¨×™× ×œ××” ×–×” ×—×©×•×‘.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ×‘×—×™×¨×ª ×–×•×•×™×ª ×¡×™×¤×•×¨</h3>
    <p>×‘×—×¨×™ ××—×ª:</p>
    <div class="checkbox-group two-col">
      <label><input type="radio" name="storyAngle" value="personal"> ×¡×™×¤×•×¨ ×©×œ ××“× ××—×“</label>
      <label><input type="radio" name="storyAngle" value="group"> ×¡×™×¤×•×¨ ×©×œ ×§×‘×•×¦×” / ×§×”×™×œ×”</label>
      <label><input type="radio" name="storyAngle" value="social"> ×¡×™×¤×•×¨ ×©×œ ×©×™× ×•×™ ×—×‘×¨×ª×™</label>
      <label><input type="radio" name="storyAngle" value="mine"> ×¡×™×¤×•×¨ ××™×©×™ ×©×œ×™</label>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ××‘× ×” ×¡×™×¤×•×¨ ×§×¦×¨</h3>
    
    <div class="field-group">
      <label>×œ×¤× ×™: ××” ×”×™×” ×§×©×”?</label>
      <textarea id="before" placeholder="×ª××¨×™ ××ª ×”××¦×‘ ×”×‘×¢×™×™×ª×™"></textarea>
    </div>

    <div class="field-group">
      <label>×¨×’×¢ ×”×©×™× ×•×™: ××” ×’×™×œ×™× ×•?</label>
      <textarea id="change" placeholder="××” ×œ××“× ×•? ××” ×”×‘× ×•?"></textarea>
    </div>

    <div class="field-group">
      <label>××—×¨×™: ××” ×”×©×ª× ×”?</label>
      <textarea id="after" placeholder="××™×š ×–×” ×©×•× ×” ×¢×›×©×™×•?"></textarea>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ××©×¤×˜ ××©××¢×•×ª</h3>
    <div class="field-group">
      <textarea id="meaning" placeholder='×”×¤×ª×¨×•×Ÿ ×”×–×” ×—×©×•×‘ ×›×™ _____.'></textarea>
    </div>
  </div>

  <div class="encouragement">
    ğŸŒŸ ×”×¡×™×¤×•×¨ ×©×œ×š ×”×•× ×”×œ×‘ ×©×œ ×”×¤×¨×•×™×§×˜!
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
    <button class="primary" onclick="nextStep()">×”××©×š âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 8: ×ª×¡×¨×™×˜ ×¡×¨×˜×•×Ÿ -->
<div class="step" id="step8">
  <h2><span class="icon">ğŸ¬</span> ×ª×—× ×” 8: ×ª×¡×¨×™×˜ ×¡×¨×˜×•×Ÿ</h2>
  
  <div class="step-intro">
    ×œ××” ×× ×—× ×• ×›××Ÿ: 45 ×©× ×™×•×ª ×©×’×•×¨××•×ª ×œ×”×‘×™×Ÿ ×•×œ×”×¨×’×™×©.
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ××‘× ×”</h3>
    <div class="checkbox-group two-col">
      <label><input type="checkbox"> ×‘×¢×™×”</label>
      <label><input type="checkbox"> ××©×ª××©</label>
      <label><input type="checkbox"> ×¤×ª×¨×•×Ÿ</label>
      <label><input type="checkbox"> ×©×™× ×•×™</label>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ×ª×¡×¨×™×˜ ×§×¦×¨</h3>
    
    <div class="field-group">
      <label>0-10 ×©× ×™×•×ª:</label>
      <textarea id="script1" placeholder="×”×¦×’×ª ×”×‘×¢×™×”"></textarea>
    </div>

    <div class="field-group">
      <label>10-20 ×©× ×™×•×ª:</label>
      <textarea id="script2" placeholder="×”××©×ª××© ×•×”×¦×•×¨×š"></textarea>
    </div>

    <div class="field-group">
      <label>20-30 ×©× ×™×•×ª:</label>
      <textarea id="script3" placeholder="×”×¦×’×ª ×”×¤×ª×¨×•×Ÿ"></textarea>
    </div>

    <div class="field-group">
      <label>30-45 ×©× ×™×•×ª:</label>
      <textarea id="script4" placeholder="×”×©×™× ×•×™ ×•×”××¡×¨"></textarea>
    </div>
  </div>

  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ×™×¦×™×¨×ª ×¤×¨×•××¤×˜×™× â€“ ×¡×¨×˜×•×Ÿ ×•×ª××•× ×” (××•×˜×•××˜×™)</h3>
    <p>×‘×¡×™×•× ××™×œ×•×™ ×”×ª×—× ×” ×™×•×¤×™×¢×• ×©× ×™ ×›×¤×ª×•×¨×™×:</p>
    
    <button class="secondary" onclick="generateVideoPrompt()">ğŸ¬ ×¦×•×¨ ×œ×™ ×¤×¨×•××¤×˜ ×œ×¡×¨×˜×•×Ÿ</button>
    <button class="secondary" onclick="generateImagePrompt()">ğŸ¨ ×¦×•×¨ ×œ×™ ×¤×¨×•××¤×˜ ×œ×ª××•× ×”</button>

    <div id="videoPromptOutput" class="output"></div>
    <button class="copy-btn" onclick="copyText('videoPromptOutput')">ğŸ“‹ ×”×¢×ª×§ ×¤×¨×•××¤×˜ ×œ×¡×¨×˜×•×Ÿ</button>

    <div id="imagePromptOutput" class="output"></div>
    <button class="copy-btn" onclick="copyText('imagePromptOutput')">ğŸ“‹ ×”×¢×ª×§ ×¤×¨×•××¤×˜ ×œ×ª××•× ×”</button>
  </div>

  <div class="helper-tip">
    ×”×¤×¨×•××¤×˜×™× ××•×›× ×™× ×œ×”×“×‘×§×” ×‘×›×œ×™ ×™×¦×™×¨×” ×›××• Canva, Runway ××• AI!
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
    <button class="primary" onclick="nextStep()">×”××©×š âœ</button>
  </div>
</div>

<!-- ×ª×—× ×” 9: ×¤×•×¡×˜×¨ ××¡×›× -->
<div class="step step-final" id="step9">
  <div class="celebration">ğŸ‰</div>
  <h2><span class="icon">ğŸ¨</span> ×ª×—× ×” 9: ×¤×•×¡×˜×¨ ××¡×›×</h2>
  
  <div class="step-intro">
    ×××œ××™× ×ª×•×›×Ÿ, ××¢×œ×™× ×ª××•× ×” ××—×ª, ×•××§×‘×œ×™× ×¤×•×¡×˜×¨ PDF ××•×›×Ÿ. ××™×Ÿ ×‘×—×™×¨×ª ×¢×™×¦×•×‘ â€“ ×”×ª×•×›×Ÿ ×”×•× ×”×¢×™×§×¨.
  </div>

  <!-- ×ª×•×›×Ÿ ×”×¤×•×¡×˜×¨ -->
  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×</span> ×ª×•×›×Ÿ ×œ×¤×•×¡×˜×¨</h3>
    
    <div class="field-group">
      <label>×©× ×”××™×–×:</label>
      <input type="text" id="posterTitle" placeholder="×©× ×”×¤×¨×•×™×§×˜ ×©×œ×š">
    </div>

    <div class="field-group">
      <label>×”×‘×¢×™×”:</label>
      <textarea id="posterProblem"></textarea>
    </div>

    <div class="field-group">
      <label>×§×”×œ ×™×¢×“:</label>
      <input type="text" id="posterAudience">
    </div>

    <div class="field-group">
      <label>×”×¤×ª×¨×•×Ÿ:</label>
      <textarea id="posterSolution"></textarea>
    </div>

    <div class="field-group">
      <label>××™×š ×–×” ×¢×•×‘×“:</label>
      <textarea id="posterHow"></textarea>
    </div>

    <div class="field-group">
      <label>×”×¢×¨×š / ×”×©×™× ×•×™:</label>
      <textarea id="posterValue"></textarea>
    </div>

    <div class="field-group">
      <label>××” ×”×œ××”:</label>
      <textarea id="posterNext"></textarea>
    </div>
  </div>

  <!-- ×”×¢×œ××ª ×ª××•× ×” -->
  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×‘</span> ×”×¢×œ××ª ×ª××•× ×”</h3>
    <div class="upload-box">
      <strong>×”×¢×œ××ª ×ª××•× ×” ××—×ª</strong><br>
      ×¦×™×œ×•× ×“×’× / ×¡×§×™×¦×” / ×ª××•× ×” ×Ö¾AI
      <input type="file" id="posterImageInput" accept="image/*">
    </div>
  </div>

  <!-- ×™×¦×•× -->
  <div class="sub-stage">
    <h3><span class="sub-stage-label">×©×œ×‘ ×’</span> ×™×¦×•×</h3>
    <button class="success" onclick="exportPosterPDF()">ğŸ“„ ×™×¦×™×¨×ª ×¤×•×¡×˜×¨ PDF</button>
    <p style="margin-top: 10px; color: #666; text-align: center;">
      ×’×•×“×œ: 100Ã—70 ×¡×´× (Landscape) â€“ ××•×›×Ÿ ×œ×”×“×¤×¡×” ×•×œ×”×¦×’×”
    </p>
  </div>

  <div class="encouragement">
    ğŸ’œ ×¡×™×™××ª ××ª ×”××¡×¢! ××ª ×¤×•×¨×¦×ª ×“×¨×š ×××™×ª×™×ª!
  </div>

  <div class="nav">
    <button onclick="prevStep()">â† ×—×–×¨×”</button>
  </div>

  <!-- ×¤×™×¥' ×œ×”×¦×’×” -->
  <div class="sub-stage">
    <h3>×”××©×š ×”×“×¨×š ×•×”×¦×’×”</h3>
    <p>××©×š ×›×•×œ×œ: 6 ×“×§×•×ª â€“ 2 ×“×§×•×ª ×œ×›×œ ×ª×œ××™×“×”</p>
    
    <button class="success" onclick="generatePitch()">ğŸ¤ ×¦×•×¨ ×¤×™×¥×³ ×œ×”×¦×’×” ×§×‘×•×¦×ª×™×ª</button>
    <div id="pitchOutput" class="output"></div>
  </div>

  <div class="warning-tip">
    ×—×©×•×‘: ×œ× ×›×œ ×©×“×” ×—×™×™×‘ ×œ×”×™×•×ª ××•×©×œ×. ×”×—×©×™×‘×” ×—×©×•×‘×” ××”×“×™×•×§.
  </div>
</div>

</div>

<!-- ×¤×•×¡×˜×¨ ××•×¡×ª×¨ ×œ×™×¦×•× -->
<div id="poster" class="poster">
  <div class="poster-grid">
    <div>
      <h2 id="pTitle"></h2>
      <div class="poster-section"><strong>×”×‘×¢×™×”:</strong><br><span id="pProblem"></span></div>
      <div class="poster-section"><strong>×§×”×œ ×™×¢×“:</strong><br><span id="pAudience"></span></div>
      <div class="poster-section"><strong>×”×¤×ª×¨×•×Ÿ:</strong><br><span id="pSolution"></span></div>
      <div class="poster-section"><strong>××™×š ×–×” ×¢×•×‘×“:</strong><br><span id="pHow"></span></div>
      <div class="poster-section"><strong>×”×¢×¨×š:</strong><br><span id="pValue"></span></div>
      <div class="poster-section"><strong>××” ×”×œ××”:</strong><br><span id="pNext"></span></div>
    </div>
    <div>
      <img id="pImage" alt="×ª××•× ×ª ×”×¤×¨×•×™×§×˜">
    </div>
  </div>
</div>

<script>
// ×¨×©×™××ª ×”×›×™×•×•× ×™×
const directions = [
  "×ª×—×‘×•×¨×” ğŸš—", "×‘×˜×™×—×•×ª ğŸ›¡ï¸", "×‘×¨×™××•×ª â¤ï¸", "×‘×¨×™××•×ª × ×¤×©×™×ª ğŸ§ ",
  "×‘×™×ª ×—×›× / IoT ğŸ ", "×—×™× ×•×š (EdTech) ğŸ“š", "×¡×‘×™×‘×” ×•×§×™×™××•×ª ğŸŒ±",
  "×—×‘×¨×” / ×§×”×™×œ×” ğŸ¤", "××“×™×” ğŸ“±", "AI ×—×‘×¨×ª×™ ğŸ¤–", "×¦×¨×›× ×•×ª ğŸ›ï¸",
  "×¢×™×¦×•×‘ ğŸ¨", "×× ×”×™×’×•×ª ğŸ‘‘"
];

const box = document.getElementById("directionsBox");
directions.forEach(d => {
  const label = document.createElement('label');
  const input = document.createElement('input');
  input.type = 'checkbox';
  input.value = d;
  input.onchange = updateFocusFields;
  label.appendChild(input);
  label.appendChild(document.createTextNode(' ' + d));
  box.appendChild(label);
});

function updateFocusFields() {
  const selected = [...document.querySelectorAll('#directionsBox input:checked')].map(i => i.value);
  const focusFields = document.getElementById('focusFields');
  focusFields.innerHTML = '';
  
  if (selected.length > 0) {
    selected.forEach((dir, idx) => {
      const fieldGroup = document.createElement('div');
      fieldGroup.className = 'field-group';
      fieldGroup.innerHTML = `
        <label>×ª×—×•× ${idx + 1}: ${dir} â€“ ××™×œ×” ××—×ª ×œ××”:</label>
        <input type="text" id="focus${idx}" placeholder="×œ××” ×–×” ××¢× ×™×™×Ÿ ××•×ª×š?">
      `;
      focusFields.appendChild(fieldGroup);
    });
  }
}

let current = 1;
const totalSteps = 9;

function updateProgress() {
  const progress = (current / totalSteps) * 100;
  document.getElementById('progressFill').style.width = progress + '%';
  document.getElementById('progressText').innerText = `×ª×—× ×” ${current} ××ª×•×š ${totalSteps}`;
}

function showStep(n) {
  if (n < 1 || n > totalSteps) return;
  
  document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
  document.getElementById('step' + n).classList.add('active');
  current = n;
  updateProgress();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function nextStep() {
  saveData();
  if (current < totalSteps) {
    showStep(current + 1);
  }
}

function prevStep() {
  if (current > 1) {
    showStep(current - 1);
  }
}

function saveData() {
  const data = {
    directions: [...document.querySelectorAll('#directionsBox input:checked')].map(i => i.value),
    decision1: document.querySelector('input[name="decision1"]:checked')?.value || '',
    where: document.getElementById('where')?.value || '',
    who: document.getElementById('who')?.value || '',
    moment: document.getElementById('moment')?.value || '',
    domain: document.getElementById('domain')?.value || '',
    target: document.getElementById('target')?.value || '',
    difficulty: document.getElementById('difficulty')?.value || '',
    cause: document.getElementById('cause')?.value || '',
    problemStatement: document.getElementById('problemStatement')?.value || '',
    source1: document.getElementById('source1')?.value || '',
    solution1: document.getElementById('solution1')?.value || '',
    source2: document.getElementById('source2')?.value || '',
    solution2: document.getElementById('solution2')?.value || '',
    fact: document.getElementById('fact')?.value || '',
    insight1: document.getElementById('insight1')?.value || '',
    insight2: document.getElementById('insight2')?.value || '',
    insight3: document.getElementById('insight3')?.value || '',
    solutionOneLine: document.getElementById('solutionOneLine')?.value || '',
    scenario: document.getElementById('scenario')?.value || '',
    action1: document.getElementById('action1')?.value || '',
    action2: document.getElementById('action2')?.value || '',
    action3: document.getElementById('action3')?.value || '',
    action4: document.getElementById('action4')?.value || '',
    storyAngle: document.querySelector('input[name="storyAngle"]:checked')?.value || '',
    before: document.getElementById('before')?.value || '',
    change: document.getElementById('change')?.value || '',
    after: document.getElementById('after')?.value || '',
    meaning: document.getElementById('meaning')?.value || '',
    script1: document.getElementById('script1')?.value || '',
    script2: document.getElementById('script2')?.value || '',
    script3: document.getElementById('script3')?.value || '',
    script4: document.getElementById('script4')?.value || ''
  };
  
  localStorage.setItem('portzotData', JSON.stringify(data));
}

function loadData() {
  const saved = localStorage.getItem('portzotData');
  if (saved) {
    const data = JSON.parse(saved);
    if (data.where) document.getElementById('where').value = data.where;
    if (data.who) document.getElementById('who').value = data.who;
  }
}

function generateVideoPrompt() {
  const data = JSON.parse(localStorage.getItem('portzotData') || '{}');
  
  const prompt = `×¤×¨×•××¤×˜ ×œ×¡×¨×˜×•×Ÿ (45 ×©× ×™×•×ª)

×¦×•×¨ ×¡×¨×˜×•×Ÿ ×©××¦×™×’:

1. ×”×‘×¢×™×”: ${data.problemStatement || '[×ª×™××•×¨ ×”×‘×¢×™×”]'}

2. ××©×ª××©: ${data.target || '[×§×”×œ ×”×™×¢×“]'}

3. ×¤×ª×¨×•×Ÿ ×˜×›× ×•×œ×•×’×™: ${data.solutionOneLine || '[×”×¤×ª×¨×•×Ÿ]'}

4. ×”×©×™× ×•×™ ×©× ×•×¦×¨: ${data.meaning || '[×”××©××¢×•×ª]'}

×”×¡×¨×˜×•×Ÿ ××™×•×¢×“ ×œ×§×”×œ ×¦×¢×™×¨ ×•××¦×™×’ ×¨×¢×™×•×Ÿ ×˜×›× ×•×œ×•×’×™ ×‘×¦×•×¨×” ×¤×©×•×˜×” ×•××•×‘× ×ª.
×”×¡×’× ×•×Ÿ ×¦×¨×™×š ×œ×”×™×•×ª ×‘×¨×•×¨, ×××¤×ª×™ ×•××¢×•×¨×¨ ×”×–×“×”×•×ª.`;

  document.getElementById('videoPromptOutput').innerText = prompt;
}

function generateImagePrompt() {
  const data = JSON.parse(localStorage.getItem('portzotData') || '{}');
  
  const prompt = `×¤×¨×•××¤×˜ ×œ×ª××•× ×” (Hero Image)

×¦×•×¨ ×ª××•× ×” ×©××¦×™×’×” ××ª ×¨×’×¢ ×”×©×™× ×•×™:

××©×ª××©/×ª ${data.target || '[×§×”×œ ×”×™×¢×“]'} ×©××ª××•×“×“/×ª ×¢× ${data.problemStatement || '[×”×‘×¢×™×”]'}
×›××©×¨ ×”×¤×ª×¨×•×Ÿ ×”×˜×›× ×•×œ×•×’×™ ${data.solutionOneLine || '[×”×¤×ª×¨×•×Ÿ]'} × ×•×›×— ×‘×ª××•× ×” ×‘×¦×•×¨×” ×‘×¨×•×¨×” ××š ×œ× ×˜×›× ×™×ª ××“×™.

×”×¡×’× ×•×Ÿ: ××™×•×¨ ×¨×™××œ×™×¡×˜×™-×¢×“×™×Ÿ / ×¦×™×œ×•× ××‘×•×™× / ×× ×™××¦×™×” × ×§×™×™×” (×œ×‘×—×™×¨×”).
×”××•×•×™×¨×”: ××•×¤×˜×™××™×¡×˜×™×ª, ××¢×¦×™××”, × ×’×™×©×” ×œ×¦×¢×™×¨×™×.

×”×ª××•× ×” ××™×•×¢×“×ª ×œ×©×™××•×© ×‘×¤×•×¡×˜×¨ ×•×‘××¦×’×ª.`;

  document.getElementById('imagePromptOutput').innerText = prompt;
}

function copyText(id) {
  const text = document.getElementById(id).innerText;
  if (text && text !== '×”×ª×•×›×Ÿ ×™×•×¤×™×¢ ×›××Ÿ...') {
    navigator.clipboard.writeText(text).then(() => {
      alert("âœ… ×”×¤×¨×•××¤×˜ ×”×•×¢×ª×§ ×œ×œ×•×—! ×¢×›×©×™×• ××¤×©×¨ ×œ×”×“×‘×™×§ ××•×ª×• ×‘×›×œ×™ ×™×¦×™×¨×”");
    });
  } else {
    alert("âš ï¸ ×× × ×¦×¨×™ ×§×•×“× ××ª ×”×¤×¨×•××¤×˜");
  }
}

function generatePitch() {
  const data = JSON.parse(localStorage.getItem('portzotData') || '{}');
  
  const pitch = `ğŸ¤ ×¤×™×¥×³ ×§×‘×•×¦×ª×™ â€“ 6 ×“×§×•×ª (2 ×“×§×•×ª ×œ×›×œ ×ª×œ××™×“×”)

×ª×œ××™×“×” 1: ×”×‘×¢×™×” ×•×œ××” ×”×™× ×—×©×•×‘×”
- ×”×¦×™×’×™ ××ª ${data.problemStatement || '[×”×‘×¢×™×”]'}
- ×”×¡×‘×™×¨×™ ×œ××™ ×–×” ×§×•×¨×” ×•×œ××” ×–×” ×—×©×•×‘
××©×š: 2 ×“×§×•×ª

×ª×œ××™×“×” 2: ×”×—×§×¨ ×•×”×¤×ª×¨×•×Ÿ
- ×©×ª×¤×™ ××” ×’×™×œ×™× ×• ×‘×—×§×¨
- ×”×¦×™×’×™ ××ª ×”×¤×ª×¨×•×Ÿ: ${data.solutionOneLine || '[×”×¤×ª×¨×•×Ÿ]'}
××©×š: 2 ×“×§×•×ª

×ª×œ××™×“×” 3: ×”××•×¦×¨, ×”×©×™× ×•×™ ×•×”×—×–×•×Ÿ
- ×”×¡×‘×™×¨×™ ××™×š ×”××•×¦×¨ ×¢×•×‘×“
- ×ª××¨×™ ××ª ×”×©×™× ×•×™ ×©×–×” ×™×‘×™×
- ×¡×™×™××™ ×¢× ×”××¡×¨: ${data.meaning || '[×œ××” ×–×” ×—×©×•×‘]'}
××©×š: 2 ×“×§×•×ª

×”×¤×™×¥×³ ××‘×•×¡×¡ ×¢×œ ×”××¡×¢ ×©×¢×‘×¨×ª×Ÿ ×•××•×›×Ÿ ×œ×”×¦×’×”!`;

  document.getElementById('pitchOutput').innerText = pitch;
}

// ×™×¦×•× ×¤×•×¡×˜×¨ ×œ-PDF
function exportPosterPDF() {
  const poster = document.getElementById('poster');

  // ××™×œ×•×™ ×ª×•×›×Ÿ ×”×¤×•×¡×˜×¨
  document.getElementById('pTitle').innerText = document.getElementById('posterTitle').value || '×©× ×”××™×–×';
  document.getElementById('pProblem').innerText = document.getElementById('posterProblem').value || '';
  document.getElementById('pAudience').innerText = document.getElementById('posterAudience').value || '';
  document.getElementById('pSolution').innerText = document.getElementById('posterSolution').value || '';
  document.getElementById('pHow').innerText = document.getElementById('posterHow').value || '';
  document.getElementById('pValue').innerText = document.getElementById('posterValue').value || '';
  document.getElementById('pNext').innerText = document.getElementById('posterNext').value || '';

  // ×‘×—×™×¨×ª ×ª×‘× ×™×ª ××§×¨××™×ª
  const templates = ['template-light','template-color','template-dark'];
  poster.className = 'poster ' + templates[Math.floor(Math.random() * templates.length)];
  poster.style.display = 'block';

  // ×˜×¢×™× ×ª ×ª××•× ×”
  const file = document.getElementById('posterImageInput').files[0];
  if (!file) {
    alert('âš ï¸ ×™×© ×œ×”×¢×œ×•×ª ×ª××•× ×” ××—×ª ×œ×¤×•×¡×˜×¨');
    poster.style.display = 'none';
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e) {
    document.getElementById('pImage').src = e.target.result;

    setTimeout(() => {
      html2canvas(poster, {scale: 2, useCORS: true}).then(canvas => {
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF('landscape', 'pt', [1000, 700]);
        pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, 1000, 700);
        pdf.save('poster_portzot_drach.pdf');
        poster.style.display = 'none';
        alert('âœ… ×”×¤×•×¡×˜×¨ × ×•×¦×¨ ×‘×”×¦×œ×—×”!');
      });
    }, 500);
  };
  reader.readAsDataURL(file);
}

// ××ª×—×•×œ
updateProgress();
updateFocusFields();
loadData();
</script>

</body>
</html>
